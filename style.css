/* =========================================== */
/* NUEVOS ESTILOS PARA INTEGRACIÓN CON HEADER/FOOTER */
/* =========================================== */

body {
    display: flex;
    flex-direction: column;
    height: 100vh;
    margin: 0;
    overflow: hidden; /* Evita scroll global */
}

.cyber-header {
    flex-shrink: 0;
    position: relative; /* Cambiamos de fixed a relative para que fluya con flex */
    width: 100%;
    z-index: 1000;
    background: rgba(10, 10, 26, 0.95); /* Aseguramos fondo consistente */
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(0, 243, 255, 0.2);
}

.tech-footer {
    flex-shrink: 0;
    position: relative;
    width: 100%;
    z-index: 1000;
    background: var(--dark-matter);
    border-top: 1px solid rgba(0, 243, 255, 0.2);
}

.main-layout {
    flex: 1;
    display: flex;
    overflow: hidden; /* Para que el sidebar y el gráfico no se desborden */
    position: relative;
}

.graph-container {
    flex: 1;
    position: relative;
    overflow: hidden;
    background: radial-gradient(circle at center, #0a0e17 0%, #030507 100%);
}

/* Ajustes para el panel lateral (mantiene su comportamiento) */
.sidebar {
    height: 100%; /* Ocupa toda la altura del main-layout */
}

/* =========================================== */
/* OVERLAY ORBITAL (sigue al nodo OLYMPUS) */
/* =========================================== */

.orbit-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 80vmin;  /* Mismo tamaño que en tecnologia.css */
    height: 80vmin;
    pointer-events: none;  /* No interfiere con clics en el gráfico */
    z-index: 10;           /* Por debajo de los controles flotantes (z-index 50) */
    transform-origin: center center;
    will-change: transform;
}

/* Los estilos de .orbit-ring y .core-globe ya están definidos en tecnologia.css */
/* Si no se cargan, podemos copiarlos aquí, pero con tecnologia.css incluido no es necesario */

/* Aseguramos que los anillos se centren dentro del overlay */
.orbit-overlay .orbit-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 1px solid rgba(0, 243, 255, 0.3);
    border-radius: 50%;
    animation: orbit-rotate linear infinite;
}

.orbit-overlay .core-globe {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 10vmin;
    height: 10vmin;
    background: radial-gradient(circle, var(--quantum-blue), transparent 70%);
    border-radius: 50%;
    box-shadow: 0 0 40px var(--quantum-blue);
    animation: core-pulse 4s infinite alternate;
}

/* Animaciones (copiadas de tecnologia.css para garantizar funcionamiento) */
@keyframes orbit-rotate {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes core-pulse {
    0% { box-shadow: 0 0 20px var(--quantum-blue); transform: translate(-50%, -50%) scale(1); }
    100% { box-shadow: 0 0 60px var(--quantum-blue), 0 0 100px var(--pulsar-pink); transform: translate(-50%, -50%) scale(1.1); }
}

/* Variables de color (por si no están definidas en tecnologia.css) */
:root {
    --quantum-blue: #00f3ff;
    --pulsar-pink: #ff00ff;
    --dark-matter: #0a0a1a;
}

/* Ajustes para que el header y footer no tapen el botón de inmersión */
.immersion-btn {
    bottom: 80px; /* Separación del footer */
}

/* En modo inmersión, ocultamos header y footer también */
body.immersion-mode .cyber-header,
body.immersion-mode .tech-footer {
    display: none !important;
}

body.immersion-mode .main-layout {
    height: 100vh;
}
